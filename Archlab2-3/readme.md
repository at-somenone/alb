# лабораторные работы 2-3

клиент-серверная архитектура

клиент подключается к серверу по ip-адресу и порту  
после этого они начинают обмениваться командами  
первая строчка команды содержит в себе название команды, остальные - данные (если требуются)  
все команды завершаются последовательностью символов `\n.\n`

список команд, отправляемых клиентом:

- `SETNAME <name>` - изменить имя пользователя на `name`
- `SENDMESSAGE <text>` - отправить сообщение с текстом `text` в чате; не имеет эффекта, если у пользователя нет имени
- `GETUSERS` - запрашивает список всех пользователей на сервере

список команд, отправляемых сервером:

- `USERJOINED <name>` - уведомление о присоединении пользователя `name` к чату
- `USERLEFT <name>` - уведомление о том, что пользователь `name` покинул чат
- `USERRENAMED <oldname> <newname>` - уведомление о смене пользователем `oldname` имени на `newname`
- `YOULOGGEDIN` - посылается при первой успешной смене имени
- `SETUSERS <user1> <user2> <...>` - ответ на команду `GETUSERS`; содержит список всех пользователей на сервере
- `NEWMESSAGE <text>` - уведомление об отправке cообщения с текстом `text`

---

1. Перечислите основные разновидности клиент-серверной архитектуры.   
   однозвенная, двухзвенная
2. Опишите стек протоколов используемых при организации клиент-серверной архитектуры.  
   TCP (Transfer Control Protocol) –
   протокол, который служит для установления надежного соединения между двумя устройствами, передачи информации и
   подтверждения ее получения. IP (Internet Protocol) – интернет протокол, который отвечает за правильность доставки
   сообщений по определенному адресу. При этом данные разбиваются на пакеты, которые могут доставляться по-разному.
3. Какие компоненты платформы .NET используются для прослушивания входящих подключений на определённом порте?  
   классы Socket или TcpListener
4. Что такое потоки в программировании?  
   поток — основная единица, которой операционная система выделяет время процессора. потоки используются, когда приложению требуется выполнять несколько задач одновременно.
5. Как реализуются потоки в языке C#?  
   используя класс Thread:
   ```cs
    using System.Thread;
    var thread = new Thread(SomeFunction);
    thread.Start();
   ```

---

1. Опишите механизм построения графического пользовательского интерфейса в платформе .NET.  
   в данной лабораторной работе использовалась библиотека Windows Presentation Foundation (WPF). интерфейс приложения определяется в файлах XAML, элементы интерфейса могут вызывать методы в классе окна, или привязывать свои данные (такие как текст, команда при нажатии, и т. д.) к свойствам заданного DataContext (которым может быть любой класс). DataContext уведомляет интерфейс об изменении свойств с помощью события PropertyChanged.

2. Опишите принцип работы делегатов в языке C#.  
   делегаты определяют тип, возвращаемый функцией, и её аргументы. с их помощью можно использовать функции в качестве аргументов для других функций и вызывать функции при срабатывании событий.
    ```cs
    public delegate double Calculate(double n1, double n2);
    ```

3. Опишите механизм обновления пользовательского интерфейса из параллельного потока.  
   так как пользовательский интерфейс можно обновлять только из основного потока приложения, требуется использовать `Dispatcher.Invoke` чтобы вызывать функции обновления на других потоках.
